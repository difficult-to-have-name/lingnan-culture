## 视频脚本

| 镜号 | 景别   | 时长        | 画面内容                                                                                                           | 解说词                                                                                                                                                                                 | 音乐/音效           |
|----|------|-----------|----------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
| 1  | 全景   | 0:00-0:15 | 程序启动，窗口标题栏显示默认标题，屏幕初始化白色背景，海龟画笔（pen）移动到基准点(-800,-300)，控制台无报错信息。                                                | 大家好，今天我们展示的是一个基于Python turtle库开发的岭南文化交互程序。程序启动时，首先初始化turtle屏幕（screen），设置背景色为白色，并通过`_get_windows_scaling`函数获取系统DPI缩放因子，结合ZOOM_FACTOR=2实现跨设备显示适配。此时海龟画笔已定位到基准点，准备开始绘制。                | 程序启动音效（轻微“滴”声）  |
| 2  | 中景   | 0:15-0:45 | 海龟分步绘制骑楼：先调用`draw_pillars`绘制柱子（循环调用`_single_pillar`实现复用），再用`draw_window`绘制窗户（结合多边形和半圆函数），最后通过`draw_roof`完成屋顶。  | 骑楼绘制采用模块化设计：`Qilou`类封装了`draw_pillars`（柱子）、`draw_window`（窗户）等方法。例如，柱子通过循环调用`_single_pillar`函数实现重复绘制，窗户则组合了`polygon`（正方形窗格）和`circle`（弧形装饰）方法，体现面向对象的代码复用思想。每个组件的坐标计算基于基准点偏移，确保整体布局统一。 | 画笔移动音效（轻柔“沙沙”声） |
| 3  | 近景   | 0:45-1:10 | 文本区域动态显示：`TextDisplayer`类的`write`方法自动换行输出骑楼描述，画面可见文字逐行弹出（背后是`_get_char_width`函数实时计算字符宽度）。                      | 文本显示功能由`TextDisplayer`类实现，核心是`write`方法：通过`_get_char_width`函数（临时绘制+撤销）精确测量字符宽度，结合`max_len`参数判断换行时机，解决了turtle库原生`write`函数不支持自动换行的问题。字体设置为“SimHei”保证中文正常显示。                            | 文字弹出音效（短促“叮咚”声） |
| 4  | 中景   | 1:10-1:35 | 舞狮图片加载：`ImageDisplayer`类将Base64编码的`LIONDANCE_BASE64`解码为临时GIF文件，通过`screen.addshape`添加为海龟形状，最终在(200,230)坐标显示。    | 图像显示采用Base64编码嵌入：`Constants`类存储的`LIONDANCE_BASE64`字符串通过`base64.b64decode`解码，写入临时文件（`tempfile.NamedTemporaryFile`），再通过turtle的`addshape`方法加载，避免了外部图片文件依赖，增强程序可移植性。                    | 图像加载完成提示音       |
| 5  | 特写   | 1:35-1:55 | 粤语模块运行：`Cantonese`类先调用`eg.write`输出“食咗饭未？”，再通过`desc.write`显示长文本，画面可见字体大小和颜色差异（通过`font`和`pencolor`参数控制）。         | 粤语展示模块通过两个`TextDisplayer`实例分别处理示例句和描述文本：通过`font`参数区分显示样式（示例句用“LiSu”字体突出展示），`pencolor`参数设置橙色强调，体现同一类的多实例差异化使用。                                                                       | 无               |
| 6  | 交互演示 | 1:55-2:40 | 鼠标点击骑楼区域，触发`diy_qilou`函数：弹出`screen.textinput`输入框，校验用户输入（整数且楼层>1），通过`screen.clear`清空画面后重新调用`qilou.draw`绘制自定义骑楼。 | 交互功能的核心是`screen.onclick(diy_qilou)`事件绑定：`diy_qilou`函数先通过坐标判断点击区域（-840≤x≤-250且-310≤y≤150），再用`try-except`捕获无效输入（非整数或楼层≤1），最后通过`screen.clear`重置画布并调用`draw`方法重绘，实现动态更新。                 | 鼠标点击音效+输入框弹出音效  |
| 7  | 全景   | 2:40-3:00 | 自定义骑楼绘制完成，画面展示完整界面（骑楼+舞狮+粤语+提示文字），最后显示程序主循环`screen.mainloop()`运行中。                                             | 整个程序通过`main`函数串联：初始化界面元素后，通过`screen.mainloop()`维持交互状态。代码中还处理了`TclError`等异常，确保程序退出时的稳定性。通过模块化设计、事件驱动和异常处理，实现了岭南文化元素的动态展示与交互体验。                                                       | 音乐渐弱            |

## 脚本亮点：

1. **技术细节突出**：明确提及函数名（如`_get_char_width`）、类设计（`TextDisplayer`封装）、解决方案（Base64嵌入图片、自动换行算法）。
2. **逻辑清晰**：按“初始化→绘制→文本→图像→交互→收尾”的程序执行流程展开，对应代码执行顺序。
3. **问题导向**：解释技术选择的原因（如Base64解决文件依赖、自动换行弥补库缺陷），体现开发思路。